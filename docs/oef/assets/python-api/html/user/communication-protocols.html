

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Communication Protocols &mdash; oef 0.2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using async APIs" href="advanced-topics.html" />
    <link rel="prev" title="The Query Language" href="query-language.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> oef
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="oef-node.html">Set up an OEF Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">First OEF Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="defining-data-model.html">Defining Data Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="query-language.html">The Query Language</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Communication Protocols</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#interaction-with-the-oef-node">Interaction with the OEF Node</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#establish-a-connection-handshake">Establish a connection: <cite>Handshake</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="#register-agent">Register agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unregister-agent">Unregister agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="#register-service">Register service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unregister-service">Unregister service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#search-agents">Search agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#search-services">Search services</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disconnect">Disconnect</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#interaction-with-other-oef-agents">Interaction with other OEF Agents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-general-purpose-messages">Using general-purpose messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-fipa-for-negotiation">Using FIPA for negotiation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cfp">CFP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#propose">Propose</a></li>
<li class="toctree-l4"><a class="reference internal" href="#accept">Accept</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decline">Decline</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fipa-examples">FIPA Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cfp-decline">CFP - Decline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cfp-propose-decline">CFP - Propose - Decline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cfp-propose-accept">CFP - Propose - Accept</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cfp-propose-propose-decline">CFP - Propose - Propose - Decline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cfp-propose-propose-accept">CFP - Propose - Propose - Accept</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#error-handling">Error Handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#oef-error">OEF Error</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dialogue-error">Dialogue Error</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced-topics.html">Using <cite>async</cite> APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oef.html">oef package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">oef</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Communication Protocols</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user/communication-protocols.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="communication-protocols">
<span id="id1"></span><h1>Communication Protocols<a class="headerlink" href="#communication-protocols" title="Permalink to this headline">¶</a></h1>
<p>OEF agents can communicate with two categories of entities:</p>
<ul class="simple">
<li><p>an OEF Node.</p></li>
<li><p>another OEF agent, via an OEF Node.</p></li>
</ul>
<p>In this section, we will explain all the possible interaction with one of the cited categories of recipients.</p>
<p>You can check the <cite>.proto</cite> files that define the exchanged messages in the
<a class="reference external" href="https://github.com/fetchai/oef-core-protocol.git">oef-core-protocol</a> repository.</p>
<div class="section" id="interaction-with-the-oef-node">
<h2>Interaction with the OEF Node<a class="headerlink" href="#interaction-with-the-oef-node" title="Permalink to this headline">¶</a></h2>
<p>An agent can interact with the OEF for the following purposes:</p>
<ul class="simple">
<li><p>Establish a connection: <cite>Handshake</cite></p></li>
<li><p>Register/Unregister as an Agent (in the <cite>Agent Directory</cite>, see <a class="reference internal" href="introduction.html#introduction"><span class="std std-ref">Introduction</span></a>)</p></li>
<li><p>Register/Unregister as a Service (in the <cite>Service Directory</cite>, see <a class="reference internal" href="introduction.html#introduction"><span class="std std-ref">Introduction</span></a>)</p></li>
<li><p>Search other agents/services</p></li>
</ul>
<p>The main difference between the <cite>Agent Directory</cite> and the <cite>Service Directory</cite> is that:</p>
<ul class="simple">
<li><p>the former is more general-purpose, whereas the latter is thought to be used by sellers of resources/data.</p></li>
<li><p>in the former one, an agent can register himself with only one description at a time, whereas in the latter
a service agent can register himself multiple time with a different description (and hence discoverable
in multiple ways).</p></li>
</ul>
<p>Every message has a <cite>message id</cite> field, that is used from the OEF Node to refer to a specific
message, e.g. for error handling (see <a class="reference internal" href="#id2">Error Handling</a>).</p>
<p>It is important to notice that most of the above-mentioned methods are <cite>asynchronous</cite>, which means that the agent does not
waits explicitly for the result of the operations.</p>
<div class="section" id="establish-a-connection-handshake">
<h3>Establish a connection: <cite>Handshake</cite><a class="headerlink" href="#establish-a-connection-handshake" title="Permalink to this headline">¶</a></h3>
<p>This step is the <cite>condition sine qua non</cite> to interact with the OEF Node, and hence with other OEF agents.
It is implemented in the <a class="reference internal" href="../oef.html#oef.agents.Agent.connect" title="oef.agents.Agent.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code></a> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">oef.agents</span> <span class="kn">import</span> <span class="n">OEFAgent</span>

<span class="c1"># assuming that an OEF Node is running at localhost on port 3333:</span>
<span class="n">agent</span> <span class="o">=</span> <span class="n">OEFAgent</span><span class="p">(</span><span class="s2">&quot;agent_identifier&quot;</span><span class="p">,</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="mi">3333</span><span class="p">)</span>

<span class="c1"># do the handshake</span>
<span class="n">agent</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
<p>This method is synchronous; that is, the execution of the main thread waits until the connection is done.
The other</p>
<p>In the next sections, we assume that you already have connected the agent to an OEF Node.</p>
</div>
<div class="section" id="register-agent">
<h3>Register agent<a class="headerlink" href="#register-agent" title="Permalink to this headline">¶</a></h3>
<p>In order to become discoverable from other agents, an agent can register itself in the <cite>Agent Directory</cite>.</p>
<p>To do so, we use the <a class="reference internal" href="../oef.html#oef.agents.Agent.register_agent" title="oef.agents.Agent.register_agent"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_agent()</span></code></a> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">oef.schema</span> <span class="kn">import</span> <span class="n">DataModel</span><span class="p">,</span> <span class="n">AttributeSchema</span><span class="p">,</span> <span class="n">Description</span>

<span class="c1"># define a data model about &quot;cars&quot;</span>
<span class="n">car_data_model</span> <span class="o">=</span> <span class="n">DataModel</span><span class="p">(</span><span class="s2">&quot;car&quot;</span><span class="p">,</span> <span class="p">[</span>
    <span class="n">AttributeSchema</span><span class="p">(</span><span class="s2">&quot;manufacturer&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span>   <span class="bp">True</span><span class="p">,</span> <span class="s2">&quot;The name of the car manufacturer.&quot;</span><span class="p">),</span>
    <span class="n">AttributeSchema</span><span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">,</span>         <span class="nb">int</span><span class="p">,</span>   <span class="bp">True</span><span class="p">,</span> <span class="s2">&quot;The year of registration.&quot;</span><span class="p">),</span>
    <span class="n">AttributeSchema</span><span class="p">(</span><span class="s2">&quot;luxury&quot;</span><span class="p">,</span>       <span class="nb">bool</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="s2">&quot;Whether the car is a luxury car.&quot;</span><span class="p">),</span>
    <span class="n">AttributeSchema</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">,</span>        <span class="nb">float</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="s2">&quot;The price of the car.&quot;</span><span class="p">),</span>
<span class="p">])</span>

<span class="c1"># define the description of our</span>
<span class="n">agent_description</span> <span class="o">=</span> <span class="n">Description</span><span class="p">({</span>
    <span class="s2">&quot;manufacturer&quot;</span><span class="p">:</span> <span class="s2">&quot;Ferrari&quot;</span><span class="p">,</span>
    <span class="s2">&quot;year&quot;</span><span class="p">:</span>         <span class="mi">2015</span><span class="p">,</span>
    <span class="s2">&quot;luxury&quot;</span><span class="p">:</span>       <span class="bp">True</span><span class="p">,</span>
    <span class="s2">&quot;price&quot;</span><span class="p">:</span>        <span class="mf">150000.0</span>
    <span class="p">},</span> <span class="n">car_data_model</span><span class="p">)</span>

<span class="c1"># register the agent in the Agent Directory</span>
<span class="n">msg_id</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">agent</span><span class="o">.</span><span class="n">register_agent</span><span class="p">(</span><span class="n">msg_id</span><span class="p">,</span> <span class="n">agent_description</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="unregister-agent">
<h3>Unregister agent<a class="headerlink" href="#unregister-agent" title="Permalink to this headline">¶</a></h3>
<p>We can unregister an agent by using the method <a class="reference internal" href="../oef.html#oef.agents.Agent.unregister_agent" title="oef.agents.Agent.unregister_agent"><code class="xref py py-func docutils literal notranslate"><span class="pre">unregister_agent()</span></code></a>:</p>
<p>Using the previous example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">msg_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">agent</span><span class="o">.</span><span class="n">unregister_agent</span><span class="p">(</span><span class="n">msg_id</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that we don’t need to use a description since our agent in the <cite>Agent Directory</cite> is uniquely identified
by the <cite>public key</cite> of the agent.</p>
</div>
<div class="section" id="register-service">
<h3>Register service<a class="headerlink" href="#register-service" title="Permalink to this headline">¶</a></h3>
<p>We can register an agent as a service in the <cite>Service Directory</cite>
by using the method <a class="reference internal" href="../oef.html#oef.agents.Agent.register_service" title="oef.agents.Agent.register_service"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_service()</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">oef.schema</span> <span class="kn">import</span> <span class="n">DataModel</span><span class="p">,</span> <span class="n">AttributeSchema</span><span class="p">,</span> <span class="n">Description</span>

<span class="c1"># define a data model about &quot;bookshops&quot;</span>
<span class="n">bookshop_data_model</span> <span class="o">=</span> <span class="n">DataModel</span><span class="p">(</span><span class="s2">&quot;bookshop&quot;</span><span class="p">,</span> <span class="p">[</span>
    <span class="n">AttributeSchema</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>        <span class="nb">str</span><span class="p">,</span>   <span class="bp">True</span><span class="p">,</span>  <span class="s2">&quot;The name of the bookshop.&quot;</span><span class="p">),</span>
    <span class="n">AttributeSchema</span><span class="p">(</span><span class="s2">&quot;city&quot;</span><span class="p">,</span>        <span class="nb">str</span><span class="p">,</span>   <span class="bp">True</span><span class="p">,</span>  <span class="s2">&quot;The city where the bookshop is located.&quot;</span><span class="p">),</span>
    <span class="n">AttributeSchema</span><span class="p">(</span><span class="s2">&quot;address&quot;</span><span class="p">,</span>     <span class="nb">str</span><span class="p">,</span>   <span class="bp">True</span><span class="p">,</span>  <span class="s2">&quot;The address where the bookshop is located.&quot;</span><span class="p">),</span>
    <span class="n">AttributeSchema</span><span class="p">(</span><span class="s2">&quot;online&quot;</span><span class="p">,</span>      <span class="nb">bool</span><span class="p">,</span>  <span class="bp">False</span><span class="p">,</span> <span class="s2">&quot;Whether it provides online catalog and purchases.&quot;</span><span class="p">),</span>
    <span class="n">AttributeSchema</span><span class="p">(</span><span class="s2">&quot;second_hand&quot;</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span>  <span class="bp">False</span><span class="p">,</span> <span class="s2">&quot;Whether it is a second hand bookshop.&quot;</span><span class="p">),</span>
<span class="p">])</span>

<span class="c1"># define a description, that is an instance of the data model</span>
<span class="n">service_description</span> <span class="o">=</span> <span class="n">Description</span><span class="p">({</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span>         <span class="s2">&quot;John Smith&#39;s Bookshop&quot;</span><span class="p">,</span>
    <span class="s2">&quot;city&quot;</span><span class="p">:</span>         <span class="s2">&quot;Cambridge&quot;</span><span class="p">,</span>
    <span class="s2">&quot;address&quot;</span><span class="p">:</span>      <span class="s2">&quot;Helmore Building, Anglia Ruskin University, Cambridge Campus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;second_hand&quot;</span><span class="p">:</span>  <span class="bp">False</span>

<span class="p">},</span> <span class="n">bookshop_data_model</span><span class="p">)</span>

<span class="n">msg_id</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">agent</span><span class="o">.</span><span class="n">register_service</span><span class="p">(</span><span class="n">msg_id</span><span class="p">,</span> <span class="n">service_description</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice: nothing prevents us to register <cite>the same agent</cite> (with the same public key) in the Agent Directory,
or as another type of service in the <cite>Service Directory</cite>.</p>
</div>
<div class="section" id="unregister-service">
<h3>Unregister service<a class="headerlink" href="#unregister-service" title="Permalink to this headline">¶</a></h3>
<p>We can unregister a service with a given description from the <cite>Service Directory</cite>
by using the method <a class="reference internal" href="../oef.html#oef.agents.Agent.unregister_service" title="oef.agents.Agent.unregister_service"><code class="xref py py-func docutils literal notranslate"><span class="pre">unregister_service()</span></code></a>:</p>
<p>Continuing with the bookshop example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">msg_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">agent</span><span class="o">.</span><span class="n">unregister_service</span><span class="p">(</span><span class="n">msg_id</span><span class="p">,</span> <span class="n">service_description</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that, differently from the <a class="reference internal" href="../oef.html#oef.agents.Agent.unregister_agent" title="oef.agents.Agent.unregister_agent"><code class="xref py py-func docutils literal notranslate"><span class="pre">unregister_agent()</span></code></a> described before, we need to
provide the description that we used when registered because we might have registered our service
with multiple descriptions.</p>
</div>
<div class="section" id="search-agents">
<h3>Search agents<a class="headerlink" href="#search-agents" title="Permalink to this headline">¶</a></h3>
<p>In order to find other agents, we have to query the OEF Node about the kind of agents we are interested in.</p>
<p>To do so, we can use the API provided by the <a class="reference internal" href="../oef.html#module-oef.query" title="oef.query"><code class="xref py py-mod docutils literal notranslate"><span class="pre">query</span></code></a> module and building <a class="reference internal" href="../oef.html#oef.query.Query" title="oef.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object
as explained in <a class="reference internal" href="query-language.html#query-language"><span class="std std-ref">The Query Language</span></a></p>
<p>Once our query is ready, we can use the <a class="reference internal" href="../oef.html#oef.agents.Agent.search_agents" title="oef.agents.Agent.search_agents"><code class="xref py py-func docutils literal notranslate"><span class="pre">search_agents()</span></code></a> method.</p>
<p>Suppose we want to search cars whose manufacturer is <code class="docutils literal notranslate"><span class="pre">Ferrari</span></code>. Continuing with the definition of the data model
<a class="reference external" href="#register-agent">in this section</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">oef.query</span> <span class="kn">import</span> <span class="n">Query</span><span class="p">,</span> <span class="n">Constraint</span><span class="p">,</span> <span class="n">Eq</span>

<span class="c1"># specify a query to be evaluated by the OEF Node</span>
<span class="c1"># on the Agent Directory descriptions.</span>
<span class="n">ferrari_query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">([</span>
    <span class="n">Constraint</span><span class="p">(</span><span class="s2">&quot;manufacturer&quot;</span><span class="p">,</span> <span class="n">Eq</span><span class="p">(</span><span class="s2">&quot;Ferrari&quot;</span><span class="p">))</span>
<span class="p">],</span> <span class="n">car_data_model</span><span class="p">)</span>

<span class="c1"># specify a search id. This id will be used by the</span>
<span class="c1"># OEF Node to refer to the right search request when</span>
<span class="c1"># it will send back the result.</span>
<span class="n">search_id</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">agent</span><span class="o">.</span><span class="n">search_agents</span><span class="p">(</span><span class="n">search_id</span><span class="p">,</span> <span class="n">ferrari_query</span><span class="p">)</span>

<span class="c1"># NOTICE: you have to implement `on_search_result` to handle the search result from the OEF Node.</span>
<span class="n">agent</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../oef.html#oef.agents.Agent.search_agents" title="oef.agents.Agent.search_agents"><code class="xref py py-func docutils literal notranslate"><span class="pre">search_agents()</span></code></a> function will send the search message to the OEF Node, which eventually will answer with a
<em>list of the public keys</em> of agents satisfying the query.</p>
<p>In this specific case, the OEF Node will return a list of the public keys of all the OEF agents that:</p>
<ul class="simple">
<li><p>are successfully registered in the <cite>Agent Directory</cite>;</p></li>
<li><p>are registered with the <code class="docutils literal notranslate"><span class="pre">car_data_model</span></code>;</p></li>
<li><p>their manufacturer is <code class="docutils literal notranslate"><span class="pre">Ferrari</span></code>.</p></li>
</ul>
<p>The <a class="reference internal" href="../oef.html#oef.agents.Agent.run" title="oef.agents.Agent.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> is mandatory to receive the search result. Indeed, the main loop of the agent
will automatically call the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_search_result" title="oef.agents.Agent.on_search_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_search_result()</span></code></a> method implemented by the class, as soon as the
search result message has been received.</p>
<p>Hence, to specify a behaviour when a search result is called, you need to:</p>
<ul class="simple">
<li><p>extend the class <a class="reference internal" href="../oef.html#oef.agents.OEFAgent" title="oef.agents.OEFAgent"><code class="xref py py-class docutils literal notranslate"><span class="pre">OEFAgent</span></code></a></p></li>
<li><p>override the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_search_result" title="oef.agents.Agent.on_search_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_search_result()</span></code></a> method.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyAgent</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_search_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">agents</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>The following sequence diagram depicts the sequence of messages exchanged between the OEF Node and the agent that
sent the search request.</p>

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <script>mermaid.initialize({startOnLoad:true});</script><div class="mermaid">
            sequenceDiagram
        Agent -&gt;&gt; Agent: search_agents()
        activate Agent
        Agent -&gt;&gt; OEF Node: (search_id, query)
        deactivate Agent
        activate OEF Node
        Agent -&gt;&gt; Agent: run()
        activate Agent
        OEF Node -&gt;&gt; Agent: (search_id, List[agent_ids])
        deactivate OEF Node
        activate Agent
        note left of Agent: on_search_result() called
        deactivate Agent
        deactivate Agent
        </div></div>
<div class="section" id="search-services">
<h3>Search services<a class="headerlink" href="#search-services" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../oef.html#oef.agents.Agent.search_services" title="oef.agents.Agent.search_services"><code class="xref py py-func docutils literal notranslate"><span class="pre">search_services()</span></code></a> method is the analogous counterpart of the
<a class="reference internal" href="../oef.html#oef.agents.Agent.search_agents" title="oef.agents.Agent.search_agents"><code class="xref py py-func docutils literal notranslate"><span class="pre">search_agents()</span></code></a>, but used to discover services in the <cite>Service Directory</cite>.</p>
<p>Suppose we want to search bookshop located in <code class="docutils literal notranslate"><span class="pre">Cambridge</span></code>. Continuing with the definition of the data model
<a class="reference external" href="#register-service">in this section</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">oef.query</span> <span class="kn">import</span> <span class="n">Query</span><span class="p">,</span> <span class="n">Constraint</span><span class="p">,</span> <span class="n">Eq</span>

<span class="c1"># specify a query to be evaluated by the OEF Node</span>
<span class="c1"># on the Service Directory descriptions.</span>
<span class="n">cambridge_query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">([</span>
    <span class="n">Constraint</span><span class="p">(</span><span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="n">Eq</span><span class="p">(</span><span class="s2">&quot;Cambridge&quot;</span><span class="p">))</span>
<span class="p">],</span> <span class="n">bookshop_data_model</span><span class="p">)</span>

<span class="c1"># specify a search id. This id will be used by the</span>
<span class="c1"># OEF Node to refer to the right search request when</span>
<span class="c1"># it will send back the result.</span>
<span class="n">search_id</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">agent</span><span class="o">.</span><span class="n">search_services</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">cambridge_query</span><span class="p">)</span>

<span class="c1"># wait for events</span>
<span class="n">agent</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../oef.html#oef.agents.Agent.search_services" title="oef.agents.Agent.search_services"><code class="xref py py-func docutils literal notranslate"><span class="pre">search_services()</span></code></a> function will send the search message to the OEF Node,
which eventually will answer with a <em>list of the public keys</em> of services satisfying the query.</p>
<p>In this specific case, the OEF Node will return a list of the public keys of all the OEF service agents that:</p>
<ul class="simple">
<li><p>are successfully registered in the <cite>Service Directory</cite>;</p></li>
<li><p>are registered with the <code class="docutils literal notranslate"><span class="pre">bookshop_data_model</span></code>;</p></li>
<li><p>their “city” field has value <code class="docutils literal notranslate"><span class="pre">Cambridge</span></code>.</p></li>
</ul>
<p>The <a class="reference internal" href="../oef.html#oef.agents.Agent.run" title="oef.agents.Agent.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> is mandatory to receive the search result. Indeed, the main loop of the agent
will automatically call the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_search_result" title="oef.agents.Agent.on_search_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_search_result()</span></code></a> method implemented by the class,
as soon as the search result message has been received.</p>
<p>Hence, to specify a behaviour when a search result is called, you need to:</p>
<ul class="simple">
<li><p>extend the class <a class="reference internal" href="../oef.html#oef.agents.Agent" title="oef.agents.Agent"><code class="xref py py-class docutils literal notranslate"><span class="pre">Agent</span></code></a></p></li>
<li><p>override the <code class="xref py py-func docutils literal notranslate"><span class="pre">on_search_result()</span></code> method.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyAgent</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_search_result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">agents</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>The following sequence diagram depicts the sequence of messages exchanged between the OEF Node and the agent that
sent the search request.</p>

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
        Agent -&gt;&gt; Agent: search_services()
        activate Agent
        Agent -&gt;&gt; OEF Node: (search_id, query)
        deactivate Agent
        activate OEF Node
        Agent -&gt;&gt; Agent: run()
        activate Agent
        OEF Node -&gt;&gt; Agent: (search_id, List[agent_ids])
        deactivate OEF Node
        activate Agent
        note left of Agent: on_search_result() called
        deactivate Agent
        deactivate Agent
        </div></div>
<div class="section" id="disconnect">
<h3>Disconnect<a class="headerlink" href="#disconnect" title="Permalink to this headline">¶</a></h3>
<p>To explicitly disconnect the agent from the OEF Node:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">agent</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</pre></div>
</div>
<p>It’s not a mandatory step, but it is a good practice to clean up the allocated resources.</p>
</div>
</div>
<div class="section" id="interaction-with-other-oef-agents">
<h2>Interaction with other OEF Agents<a class="headerlink" href="#interaction-with-other-oef-agents" title="Permalink to this headline">¶</a></h2>
<p>In this section we explain the main two methods to communicate with other OEF agents, namely:</p>
<ul class="simple">
<li><p>using general-purpose messages</p></li>
<li><p>using FIPA protocol, designed for negotiation</p></li>
</ul>
<div class="section" id="using-general-purpose-messages">
<h3>Using general-purpose messages<a class="headerlink" href="#using-general-purpose-messages" title="Permalink to this headline">¶</a></h3>
<p>The OEF Node provides a way to exchange information via the method <a class="reference internal" href="../oef.html#oef.agents.Agent.send_message" title="oef.agents.Agent.send_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_message()</span></code></a>.</p>
<p>Let’s call <cite>Sender</cite> the sender agent and <cite>Recipient</cite> the recipient agent.</p>
<p>The <cite>Sender</cite> can send the message by using the <a class="reference internal" href="../oef.html#oef.agents.Agent.send_message" title="oef.agents.Agent.send_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_message()</span></code></a>.
Then, the OEF Node will forward it to the <cite>Recipient</cite>. When the <cite>Recipient</cite> agent call the function
<a class="reference internal" href="../oef.html#oef.agents.Agent.run" title="oef.agents.Agent.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>, then it will start to read from the connection with the OEF Node, and the
<a class="reference internal" href="../oef.html#oef.agents.Agent.on_message" title="oef.agents.Agent.on_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_message()</span></code></a> handler is called.</p>
<p>Here’s the code snippet that shows how the <cite>Sender</cite> can send a simple message.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># the identifier of the message</span>
<span class="n">msg_id</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># the identifier of the dialogue</span>
<span class="n">dialogue_id</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># the public key of the recipient agent</span>
<span class="n">destination</span> <span class="o">=</span> <span class="s2">&quot;recipient&quot;</span>

<span class="c1"># the content (in bytes) of the message</span>
<span class="n">content</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;hello&quot;</span>

<span class="c1"># send the message</span>
<span class="n">sender_agent</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">msg_id</span><span class="p">,</span> <span class="n">dialogue_id</span><span class="p">,</span> <span class="n">destination</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<p>On the other side, the <cite>Recipient</cite> must implement the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_message" title="oef.agents.Agent.on_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_message()</span></code></a> to specify the
behaviour when a message arrives.</p>
<p>The parameters <code class="docutils literal notranslate"><span class="pre">msg_id</span></code>, <code class="docutils literal notranslate"><span class="pre">dialogue_id</span></code> and <code class="docutils literal notranslate"><span class="pre">content</span></code> below will be the same of <code class="docutils literal notranslate"><span class="pre">msg_id</span></code>,
<code class="docutils literal notranslate"><span class="pre">dialogue_id</span></code> and <code class="docutils literal notranslate"><span class="pre">content</span></code> above.
The parameter <code class="docutils literal notranslate"><span class="pre">origin</span></code> will be the public key of the sender, <code class="docutils literal notranslate"><span class="pre">&quot;sender&quot;</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">RecipientAgent</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="n">msg_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dialogue_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>Here follows the sequence diagram that depicts the message exchange:</p>

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
        participant Sender
        participant OEF Node
        participant Recipient
        Sender -&gt;&gt; OEF Node: connect()
        Recipient -&gt;&gt; OEF Node: connect()
        Recipient -&gt;&gt; Recipient: run()
        activate Recipient
        note right of Recipient: wait for events...
        Sender -&gt;&gt; Sender: send_message()
        activate Sender
        Sender -&gt;&gt; OEF Node: (dialogue_id, dest, content)
        deactivate Sender
        OEF Node -&gt;&gt; Recipient: (dialogue_id, origin, content)
        activate Recipient
        note right of Recipient: on_message() called
        deactivate Recipient
        deactivate Recipient


        </div></div>
<div class="section" id="using-fipa-for-negotiation">
<h3>Using FIPA for negotiation<a class="headerlink" href="#using-fipa-for-negotiation" title="Permalink to this headline">¶</a></h3>
<p>In this section, we explain a more complex protocol designed to facilitate negotiation.</p>
<p>It follows FIPA specifications. Citing
<a class="reference external" href="https://en.wikipedia.org/wiki/Foundation_for_Intelligent_Physical_Agents">Wikipedia</a>:</p>
<blockquote>
<div><p>The Foundation for Intelligent Physical Agents (FIPA) is a body for developing and setting computer software
standards for heterogeneous and interacting agents and agent-based systems.</p>
</div></blockquote>
<p>The most simple use case one can think of is an agent (let’s call him <cite>buyer</cite>) that wants to buy
some resources from another agent (the <cite>seller</cite>).</p>
<p>The protocol consists of four types of messages:</p>
<ul class="simple">
<li><p><cite>Call for Proposals</cite> (or <cite>CFP</cite>), used by the buyer for asking resources and their price to the seller.</p></li>
<li><p><cite>Propose</cite>, the actual proposal in a negotiation.</p></li>
<li><p><cite>Accept</cite>, meaning that the sender accepts a previous <cite>Propose</cite> of his opponent.</p></li>
<li><p><cite>Decline</cite>, meaning that the sender is not interested anymore in continuing the negotiation.</p></li>
</ul>
<p>Every message contains the following information:</p>
<ul class="simple">
<li><p><cite>dialogue id</cite>: the identifier of the dialogue in which the message is sent.</p></li>
<li><p><cite>destination</cite>: the agent identifier to whom the message is sent.</p></li>
<li><p><cite>message id</cite>: the message identifier for the dialogue.</p></li>
<li><p><cite>target</cite>: the identifier of the message to whom this message is answering.</p></li>
</ul>
<p>plus some other parameters, depending on the message.</p>
<p>We assume that the communication is alternating between the <cite>Buyer</cite> and the <cite>Seller</cite>. That is,
first is the <cite>Buyer</cite> that has the right to speak, then the <cite>Seller</cite>, then the <cite>Buyer</cite> again etc.</p>
<p>In the following sections, we will briefly describe how to send and receive these messages with the SDK.</p>
<div class="section" id="cfp">
<h4>CFP<a class="headerlink" href="#cfp" title="Permalink to this headline">¶</a></h4>
<p>The <cite>CFP</cite> (<cite>Call For Proposals</cite>) message is used to start the negotiation.</p>
<p>You can use the method <a class="reference internal" href="../oef.html#oef.agents.Agent.send_cfp" title="oef.agents.Agent.send_cfp"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_cfp()</span></code></a> to send a <cite>CFP</cite> message.</p>
<p>Besides the fields described above, you need to define the query associated with the Call For Proposals.
It can be one of:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="../oef.html#oef.query.Query" title="oef.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>: the <cite>Seller</cite> will answer with the resources matching the query.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: a generic information that should make sense to the <code class="docutils literal notranslate"><span class="pre">Seller</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: a <cite>CFP</cite> that do not specify any constraint.</p></li>
</ul>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># the identifier of the dialogue</span>
<span class="n">dialogue_id</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># the public key of the seller agent</span>
<span class="n">destination</span> <span class="o">=</span> <span class="s2">&quot;seller&quot;</span>

<span class="c1"># the message id and the target of the message.</span>
<span class="c1"># since the CFP is the first message in the dialogue, target doesn&#39;t point to any message</span>
<span class="n">msg_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">target</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># the query associated with the Call For Proposals</span>
<span class="c1"># in this case, the query is empty.</span>
<span class="kn">from</span> <span class="nn">oef.query</span> <span class="kn">import</span> <span class="n">Query</span>
<span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">([])</span>

<span class="c1"># send the CFP</span>
<span class="n">agent</span><span class="o">.</span><span class="n">send_cfp</span><span class="p">(</span><span class="n">dialogue_id</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">,</span> <span class="n">destination</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
</pre></div>
</div>
<p>On the other side, the <cite>Seller</cite> should implement the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_cfp" title="oef.agents.Agent.on_cfp"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_cfp()</span></code></a> to specify the
behaviour when a message arrives.</p>
<p>The parameters <code class="docutils literal notranslate"><span class="pre">dialogue_id</span></code>, <code class="docutils literal notranslate"><span class="pre">msg_id</span></code>, <code class="docutils literal notranslate"><span class="pre">target</span></code> and <code class="docutils literal notranslate"><span class="pre">query</span></code> below will be the same of above.
The parameter <code class="docutils literal notranslate"><span class="pre">origin</span></code> will be the public key of the sender (in this case <code class="docutils literal notranslate"><span class="pre">&quot;buyer&quot;</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Seller</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_cfp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
               <span class="n">dialogue_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
               <span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
               <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
               <span class="n">query</span><span class="p">:</span> <span class="n">CFP_TYPES</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>Here follows the sequence diagram that depicts the message exchange:</p>

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
        participant Buyer
        participant Seller
        Seller -&gt;&gt; Seller: run()
        activate Seller
        Buyer-&gt;&gt;Buyer: send_cfp()
        activate Buyer
        Buyer -&gt;&gt; Seller: CFP(query)
        deactivate Buyer
        activate Seller
        note right of Seller: on_cfp() called
        deactivate Seller
        deactivate Seller




        </div></div>
<div class="section" id="propose">
<h4>Propose<a class="headerlink" href="#propose" title="Permalink to this headline">¶</a></h4>
<p>The <cite>Propose</cite> message is used to make a proposal to the opponent of the negotiation.
It can answer to a <cite>CFP</cite> or another <cite>Propose</cite> (in that case it would be a counter-<cite>Propose</cite>).</p>
<p>You can use the method <a class="reference internal" href="../oef.html#oef.agents.Agent.send_propose" title="oef.agents.Agent.send_propose"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_propose()</span></code></a> to send a <cite>Propose</cite> message.</p>
<p>Besides the fields described above, you need to define the actual proposal.
It can be one of:</p>
<blockquote>
<div><ul class="simple">
<li><p>a list of <a class="reference internal" href="../oef.html#oef.schema.Description" title="oef.schema.Description"><code class="xref py py-class docutils literal notranslate"><span class="pre">Description</span></code></a>: the <cite>Seller</cite> will answer with the resources matching the query.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: a generic information that should make sense to the opponent.</p></li>
</ul>
</div></blockquote>
<p>Assume, for example, that the following code is executed inside the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_cfp" title="oef.agents.Agent.on_cfp"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_cfp()</span></code></a> of
the <cite>Seller</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Seller</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_cfp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
               <span class="n">dialogue_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
               <span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
               <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
               <span class="n">query</span><span class="p">:</span> <span class="n">CFP_TYPES</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>

        <span class="c1"># do some stuff with the query</span>
        <span class="o">...</span>

        <span class="c1"># the target becomes the message we just received</span>
        <span class="n">new_target</span> <span class="o">=</span> <span class="n">msg_id</span>

        <span class="c1"># we increment the message id</span>
        <span class="n">new_msg_id</span> <span class="o">=</span> <span class="n">msg_id</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="c1"># make the proposal - either a list of Description or `bytes`</span>
        <span class="n">proposal</span> <span class="o">=</span> <span class="p">[</span><span class="n">description_1</span><span class="p">,</span> <span class="n">description_2</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>

        <span class="c1"># send the Propose</span>
        <span class="n">agent</span><span class="o">.</span><span class="n">send_propose</span><span class="p">(</span><span class="n">dialogue_id</span><span class="p">,</span> <span class="n">destination</span><span class="p">,</span> <span class="n">proposal</span><span class="p">,</span> <span class="n">new_msg_id</span><span class="p">,</span> <span class="n">new_target</span><span class="p">)</span>
</pre></div>
</div>
<p>On the other side, the opponent should implement the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_propose" title="oef.agents.Agent.on_propose"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_propose()</span></code></a> to specify the
behaviour when a message arrives.</p>
<p>The parameters <code class="docutils literal notranslate"><span class="pre">dialogue_id</span></code>, <code class="docutils literal notranslate"><span class="pre">msg_id</span></code>, <code class="docutils literal notranslate"><span class="pre">target</span></code> and <code class="docutils literal notranslate"><span class="pre">proposal</span></code> below will be the same of above.
The parameter <code class="docutils literal notranslate"><span class="pre">origin</span></code> will be the public key of the sender (in this case <code class="docutils literal notranslate"><span class="pre">&quot;seller&quot;</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Buyer</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_propose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">dialogue_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                   <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">proposals</span><span class="p">:</span> <span class="n">PROPOSE_TYPES</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>Here follows the sequence diagram that depicts the message exchange:</p>

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
        participant Buyer
        participant Seller
        Seller -&gt;&gt; Seller: run()
        activate Seller

        #send cfp
        Buyer-&gt;&gt;Buyer: send_cfp()
        activate Buyer
        Buyer -&gt;&gt; Seller: CFP(query)
        deactivate Buyer

        # seller receives CFP and send Propose
        activate Seller
        note right of Seller: on_cfp() called

        Buyer-&gt;&gt;Buyer: run()
        activate Buyer

        Seller-&gt;&gt;Seller: send_propose()
        Seller-&gt;&gt;Buyer: Propose(proposal)
        deactivate Seller

        # buyer receives Propose
        activate Buyer
        note left of Buyer: on_propose() called

        deactivate Buyer
        deactivate Seller
        deactivate Buyer




        </div></div>
<div class="section" id="accept">
<h4>Accept<a class="headerlink" href="#accept" title="Permalink to this headline">¶</a></h4>
<p>The <cite>Accept</cite> message is used to accept one of the previous <cite>Propose</cite>, and it ends the negotiation.
Obviously, both the <cite>Buyer</cite> and the <cite>Seller</cite> can accept one of the previous opponent’s proposals.</p>
<p>You can use the method <a class="reference internal" href="../oef.html#oef.agents.Agent.send_accept" title="oef.agents.Agent.send_accept"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_accept()</span></code></a> to send a <cite>Accept</cite> message.</p>
<p>Assume, for example, that the following code is executed inside the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_propose" title="oef.agents.Agent.on_propose"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_propose()</span></code></a> of
the <cite>Buyer</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Buyer</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_propose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">dialogue_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                   <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">proposals</span><span class="p">:</span> <span class="n">PROPOSE_TYPES</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>

        <span class="c1"># do some stuff with the proposal</span>
        <span class="o">...</span>

        <span class="c1"># the target is the id of the Propose we want to accept.</span>
        <span class="n">new_target</span> <span class="o">=</span> <span class="n">msg_id</span>

        <span class="c1"># we increment the message id</span>
        <span class="n">new_msg_id</span> <span class="o">=</span> <span class="n">msg_id</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="c1"># send the Accept</span>
        <span class="n">agent</span><span class="o">.</span><span class="n">send_accept</span><span class="p">(</span><span class="n">dialogue_id</span><span class="p">,</span> <span class="n">destination</span><span class="p">,</span> <span class="n">new_msg_id</span><span class="p">,</span> <span class="n">new_target</span><span class="p">)</span>
</pre></div>
</div>
<p>On the other side, the <cite>Seller</cite> should implement the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_accept" title="oef.agents.Agent.on_accept"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_accept()</span></code></a> to specify the
behaviour when a message arrives.</p>
<p>The parameters <code class="docutils literal notranslate"><span class="pre">dialogue_id</span></code>, <code class="docutils literal notranslate"><span class="pre">msg_id</span></code>, <code class="docutils literal notranslate"><span class="pre">target</span></code> below will be the same of above.
The parameter <code class="docutils literal notranslate"><span class="pre">origin</span></code> will be the public key of the sender (in this case <code class="docutils literal notranslate"><span class="pre">&quot;buyer&quot;</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Seller</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_accept</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                  <span class="n">dialogue_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                  <span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                  <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>Here follows the sequence diagram that depicts the message exchange:</p>

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
        participant Buyer
        participant Seller

        activate Buyer
        activate Seller
        note over Buyer,Seller: after the CFP and the first Propose...

        note left of Buyer: on_propose() called
        note left of Buyer: here the buyer can send a counter-proposal.
        Buyer-&gt;&gt;Buyer: send_accept()
        Buyer-&gt;&gt;Seller: Accept()
        note right of Seller: on_accept() called

        deactivate Buyer
        deactivate Seller

        </div><p>Notice that:</p>
<ul class="simple">
<li><p>There might have been other counter- <cite>Propose</cite> s between both parties</p></li>
<li><p>Both the <cite>Buyer</cite> and the <cite>Seller</cite> can send an <cite>Accept</cite>, but only when is its turn.</p></li>
</ul>
</div>
<div class="section" id="decline">
<h4>Decline<a class="headerlink" href="#decline" title="Permalink to this headline">¶</a></h4>
<p>The <cite>Decline</cite> message is used to decline any propose, and it ends the negotiation.
Obviously, both the <cite>Buyer</cite> and the <cite>Seller</cite> can send a <cite>Decline</cite>.</p>
<p>The <cite>Decline</cite>’s target must be the <cite>CFP</cite> that initiated the negotiation. It can be even sent by the <cite>Seller</cite> on the
<cite>Buyer</cite> ‘s <cite>CFP</cite>.</p>
<p>You can use the method <a class="reference internal" href="../oef.html#oef.agents.Agent.send_decline" title="oef.agents.Agent.send_decline"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_decline()</span></code></a> to send a <cite>Decline</cite> message.</p>
<p>Assume, for example, that the following code is executed inside the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_propose" title="oef.agents.Agent.on_propose"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_propose()</span></code></a> of
the <cite>Buyer</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Buyer</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_propose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">dialogue_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                   <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">proposal</span><span class="p">:</span> <span class="n">PROPOSE_TYPES</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>

        <span class="c1"># do some stuff with the query</span>
        <span class="o">...</span>

        <span class="c1"># the target is the id of the CFP.</span>
        <span class="n">new_target</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># we increment the message id</span>
        <span class="n">new_msg_id</span> <span class="o">=</span> <span class="n">msg_id</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="c1"># send the Decline</span>
        <span class="n">agent</span><span class="o">.</span><span class="n">send_decline</span><span class="p">(</span><span class="n">dialogue_id</span><span class="p">,</span> <span class="n">destination</span><span class="p">,</span> <span class="n">new_msg_id</span><span class="p">,</span> <span class="n">new_target</span><span class="p">)</span>
</pre></div>
</div>
<p>On the other side, the <cite>Seller</cite> should implement the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_decline" title="oef.agents.Agent.on_decline"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_decline()</span></code></a> to specify the
behaviour when a message arrives.</p>
<p>The parameters <code class="docutils literal notranslate"><span class="pre">dialogue_id</span></code>, <code class="docutils literal notranslate"><span class="pre">msg_id</span></code>, <code class="docutils literal notranslate"><span class="pre">target</span></code> below will be the same of above.
The parameter <code class="docutils literal notranslate"><span class="pre">origin</span></code> will be the public key of the sender (in this case <code class="docutils literal notranslate"><span class="pre">&quot;buyer&quot;</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Seller</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_decline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">dialogue_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                   <span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                   <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>Here follows the sequence diagram that depicts the message exchange:</p>

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
        participant Buyer
        participant Seller

        activate Buyer
        activate Seller
        note over Buyer,Seller: after the CFP and the first Propose...

        note left of Buyer: on_propose() called
        note left of Buyer: here the buyer can send a counter-proposal, or an accept.
        Buyer-&gt;&gt;Buyer: send_decline()
        Buyer-&gt;&gt;Seller: Decline()
        note right of Seller: on_decline() called

        deactivate Buyer
        deactivate Seller

        </div><p>Notice that:</p>
<ul class="simple">
<li><p>There might have been other counter- <cite>Propose</cite> s between both parties</p></li>
<li><p>Both the <cite>Buyer</cite> and the <cite>Seller</cite> can send a <cite>Decline</cite>, but only when is its turn.</p></li>
</ul>
</div>
</div>
<div class="section" id="fipa-examples">
<h3>FIPA Examples<a class="headerlink" href="#fipa-examples" title="Permalink to this headline">¶</a></h3>
<p>In this section, you can see some examples of how the negotiation protocol should work.</p>
<p>Notice that the SDK does not impose any restriction on the messages. Eventually, there will be
more API support that moves the burden of taking care of some protocol-related details, from the developer to the SDK.</p>
<p>You can use this <a class="reference external" href="https://github.com/fetchai/oef-sdk-python/tree/master/examples/random_fipa/random_fipa.py">script</a>
to generate other simulations.</p>
<div class="section" id="cfp-decline">
<h4>CFP - Decline<a class="headerlink" href="#cfp-decline" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id3">

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
buyer-&gt;&gt;seller:CFP()
seller-&gt;&gt;buyer:Decline()
        </div><p class="caption"><span class="caption-text">The Seller sends a <cite>Decline</cite> just after a <cite>CFP</cite>.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="cfp-propose-decline">
<h4>CFP - Propose - Decline<a class="headerlink" href="#cfp-propose-decline" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id4">

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
buyer-&gt;&gt;seller:CFP()
seller-&gt;&gt;buyer:Propose()
buyer-&gt;&gt;seller:Decline()
        </div><p class="caption"><span class="caption-text">The Buyer sends a <cite>Decline</cite> after the first <cite>Seller</cite>’s <cite>Propose</cite>.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="cfp-propose-accept">
<h4>CFP - Propose - Accept<a class="headerlink" href="#cfp-propose-accept" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id5">

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
buyer-&gt;&gt;seller:CFP()
seller-&gt;&gt;buyer:Propose()
buyer-&gt;&gt;seller:Decline()
        </div><p class="caption"><span class="caption-text">The Buyer accepts the first <cite>Seller</cite>’s <cite>Propose</cite>.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="cfp-propose-propose-decline">
<h4>CFP - Propose - Propose - Decline<a class="headerlink" href="#cfp-propose-propose-decline" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id6">

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
buyer-&gt;&gt;seller:CFP()
seller-&gt;&gt;buyer:Propose()
buyer-&gt;&gt;seller:Propose()
seller-&gt;&gt;buyer:Decline()
        </div><p class="caption"><span class="caption-text">The Seller sends a <cite>Decline</cite> after the <cite>Buyers</cite>’s counter-<cite>Propose</cite>.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="cfp-propose-propose-accept">
<h4>CFP - Propose - Propose - Accept<a class="headerlink" href="#cfp-propose-propose-accept" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id7">

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            sequenceDiagram
buyer-&gt;&gt;seller:CFP()
seller-&gt;&gt;buyer:Propose()
buyer-&gt;&gt;seller:Propose()
seller-&gt;&gt;buyer:Accept()
        </div><p class="caption"><span class="caption-text">The Seller accepts the <cite>Buyers</cite>’s counter-<cite>Propose</cite>.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
</div>
<div class="section" id="error-handling">
<span id="id2"></span><h2>Error Handling<a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h2>
<p>The OEF supports two ways to report errors:</p>
<ul class="simple">
<li><p>One related to the interactions with the OEF: <cite>OEF Errors</cite></p></li>
<li><p>One related to the interactions with other agents: <cite>Dialogue Errors</cite>.</p></li>
</ul>
<div class="section" id="oef-error">
<h3>OEF Error<a class="headerlink" href="#oef-error" title="Permalink to this headline">¶</a></h3>
<p>The OEF Error is sent back to an OEF Agent when a particular operation he submitted fail for some
reason.</p>
<p>More specifically, if an agent receives an OEF Error, one of the following problems might have happened:</p>
<ul class="simple">
<li><p>following a <a class="reference internal" href="../oef.html#oef.agents.Agent.register_agent" title="oef.agents.Agent.register_agent"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_agent()</span></code></a> request, if the description received by the OEF Node is invalid.</p></li>
<li><p>following a <a class="reference internal" href="../oef.html#oef.agents.Agent.register_service" title="oef.agents.Agent.register_service"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_service()</span></code></a> request, if something fails when the OEF Node try to store the
service description in the Service Directory.</p></li>
<li><p>following a <a class="reference internal" href="../oef.html#oef.agents.Agent.unregister_service" title="oef.agents.Agent.unregister_service"><code class="xref py py-func docutils literal notranslate"><span class="pre">unregister_service()</span></code></a> request, when we tries to unregister a non-existent
service.</p></li>
</ul>
<p>In order to correctly handle an OEF Error message, you have to specify the behaviour
of the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_oef_error" title="oef.agents.Agent.on_oef_error"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_oef_error()</span></code></a> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyAgent</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_oef_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">answer_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="n">OEFErrorOperation</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">answer_id</span></code> parameter will be the same of the <code class="docutils literal notranslate"><span class="pre">msg_id</span></code> used to submit the request.
The <code class="docutils literal notranslate"><span class="pre">operation</span></code> parameter specify which kind of error has been received.
See <a class="reference internal" href="../oef.html#oef.messages.OEFErrorOperation" title="oef.messages.OEFErrorOperation"><code class="xref py py-class docutils literal notranslate"><span class="pre">OEFErrorOperation</span></code></a> for further details.</p>
</div>
<div class="section" id="dialogue-error">
<h3>Dialogue Error<a class="headerlink" href="#dialogue-error" title="Permalink to this headline">¶</a></h3>
<p>The Dialogue Error is sent back to an OEF Agent when a particular operation he submitted fail for some
reason.</p>
<p>More specifically, if an agent receives a Dialogue Error, one of the following problems might have happened:</p>
<ul class="simple">
<li><p>following a <a class="reference internal" href="../oef.html#oef.agents.Agent.send_message" title="oef.agents.Agent.send_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_message()</span></code></a> (or any <code class="docutils literal notranslate"><span class="pre">send_*</span></code> method), if the destination is not currently connected.</p></li>
</ul>
<p>In order to correctly handle a Dialogue Error message, you have to specify the behaviour
of the <a class="reference internal" href="../oef.html#oef.agents.Agent.on_dialogue_error" title="oef.agents.Agent.on_dialogue_error"><code class="xref py py-func docutils literal notranslate"><span class="pre">on_dialogue_error()</span></code></a> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyAgent</span><span class="p">(</span><span class="n">OEFAgent</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_dialogue_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">answer_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dialogue_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">origin</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">answer_id</span></code>, <code class="docutils literal notranslate"><span class="pre">dialogue_id</span></code> and <code class="docutils literal notranslate"><span class="pre">origin</span></code> parameters will be the same of, respectively,
the <code class="docutils literal notranslate"><span class="pre">msg_id</span></code>, <code class="docutils literal notranslate"><span class="pre">dialogue_id</span></code> and <code class="docutils literal notranslate"><span class="pre">destination</span></code> parameter used to send the agent message.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="advanced-topics.html" class="btn btn-neutral float-right" title="Using async APIs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="query-language.html" class="btn btn-neutral float-left" title="The Query Language" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018 Fetch.AI Limited

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>